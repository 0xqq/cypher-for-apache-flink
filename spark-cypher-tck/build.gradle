
description = 'Cypher for Apache Spark - TCK'

dependencies {
    testCompile project(':okapi-tck')
    testCompile project(':spark-cypher-testing')
}

// split scenario name with | --> debugTCKScenarios -Pscenarios = 'sc1|sc2|..'
task debugTCKScenarios() {
    description "generates scala-test from TCK scenarios (keywords of the scenario names suffice)"
    def outPath = project.findProperty("outPath") ?: 'src/test/scala/org/opencypher/spark/testing/'
    def scenarios = project.findProperty("scenarios") ?: ""
    dependsOn sourceSets.test.runtimeClasspath
    doLast {
        javaexec {
            classpath =  sourceSets.test.runtimeClasspath
            main = 'org.opencypher.spark.testing.AcceptanceTestGenerator'
            args = [outPath,scenarios]
        }
    }
}
